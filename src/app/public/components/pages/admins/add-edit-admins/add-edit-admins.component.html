<!-- add-edit-admin.component.html -->
<div class="card">
  <div class="flex justify-content-between align-items-center mb-5">
    <h2>{{ adminId ? 'Edit Admin' : 'Add New Admin' }}</h2>
  </div>

  <form [formGroup]="adminForm" (ngSubmit)="onSubmit()">
    <div class="grid">
      <!-- Left Column -->
      <div class="col-12 md:col-6">
        <!-- Full Name Field -->
        <div class="field mb-4">
          <label for="full_name" class="block mb-2 font-medium">Full Name*</label>
          <input type="text" pInputText id="full_name" formControlName="full_name" class="w-full"
                [ngClass]="{'ng-invalid ng-dirty': submitted && f['full_name'].errors}">
          <small class="p-error block mt-1" *ngIf="submitted && f['full_name'].errors?.['required']">
            Full name is required
          </small>
        </div>

        <!-- Email Field -->
        <div class="field mb-4">
          <label for="email" class="block mb-2 font-medium">Email*</label>
          <input type="email" pInputText id="email" formControlName="email" class="w-full"
                [ngClass]="{'ng-invalid ng-dirty': submitted && f['email'].errors}">
          <small class="p-error block mt-1" *ngIf="submitted && f['email'].errors?.['required']">
            Email is required
          </small>
          <small class="p-error block mt-1" *ngIf="submitted && f['email'].errors?.['email']">
            Please enter a valid email
          </small>
        </div>
      </div>

      <!-- Right Column -->
      <div class="col-12 md:col-6">
        <!-- Username Field -->
        <div class="field mb-4">
          <label for="username" class="block mb-2 font-medium">Username*</label>
          <input type="text" pInputText id="username" formControlName="username" class="w-full"
                [ngClass]="{'ng-invalid ng-dirty': submitted && f['username'].errors}">
          <small class="p-error block mt-1" *ngIf="submitted && f['username'].errors?.['required']">
            Username is required
          </small>
        </div>
        <!-- Phone Field -->
        <div class="field mb-4">
          <label for="phone" class="block mb-2 font-medium">Phone</label>
          <input type="text" pInputText id="phone" formControlName="phone" class="w-full">
        </div>

        <!-- Password Field (Create Mode) -->
        <div class="field mb-4" *ngIf="!adminId">
          <label for="password" class="block mb-2 font-medium">Password*</label>
          <p-password id="password" formControlName="password" [feedback]="false" class="w-full"
                     [ngClass]="{'ng-invalid ng-dirty': submitted && f['password'].errors}">
          </p-password>
          <small class="p-error block mt-1" *ngIf="submitted && f['password'].errors?.['required']">
            Password is required
          </small>
          <small class="p-error block mt-1" *ngIf="submitted && f['password'].errors?.['minlength']">
            Password must be at least 6 characters
          </small>
        </div>

      </div>
    </div>

    <!-- Form Actions -->
    <div class="flex justify-content-end gap-3 mt-5">
      <button pButton pRipple label="Cancel" icon="pi pi-times" 
              class="p-button-outlined p-button-secondary" (click)="onCancel()" [disabled]="loading"></button>
      <button pButton pRipple label="Save" icon="pi pi-check" 
              class="p-button-primary" type="submit" [disabled]="loading">
        <i *ngIf="loading" class="pi pi-spinner pi-spin mr-2"></i>
      </button>
    </div>
  </form>
</div>